"use strict";function initMap(){function e(e,o){return new ymaps.Placemark(e,{hintContent:"MrBurger",balloonContent:o||"Какой-то адрес"},{iconLayout:"default#imageWithContent",iconImageHref:"img/icons/map-marker.svg",iconImageSize:[46,57],iconImageOffset:[-23,-57],iconContentOffset:[15,15],iconContentLayout:ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>')})}var o=new ymaps.Map("map",{center:[59.939095,30.315868],zoom:11},{searchControlProvider:"yandex#search"});o.controls.remove("fullscreenControl"),o.behaviors.disable("scrollZoom"),o.geoObjects.add(e([59.88978,30.311479],"м.Московские ворота")).add(e([59.944392,30.380479],"м.Чернышевская")).add(e([59.916865,30.492144],"м.Проспект Большевиков")).add(e([59.973531,30.311213],"м.Петроградская"))}function activeOnTap(e,o,t,n){e=e||8e3,t=t||"",n=n||!1,deviceWidth<=e?$(o).on("click",function(e){n&&$(o).removeClass(o.slice(1,o.length)+"--active"),$(this).toggleClass(o.slice(1,o.length)+"--active"),$(e.target).hasClass(t.slice(1,o.length))&&$(o).removeClass(o.slice(1,o.length)+"--active")}):$(o).hover(function(){$(this).addClass(o.slice(1,o.length)+"--active")},function(){$(this).removeClass(o.slice(1,o.length)+"--active")})}function isScroll(e){document.onmousewheel=document.onwheel=function(){return!!e},e?document.removeEventListener("touchmove",prevDef,!1):document.addEventListener("touchmove",prevDef,!1),document.addEventListener("MozMousePixelScroll",function(){return!!e},!1),document.onkeydown=function(o){if(o.keyCode>=33&&o.keyCode<=40)return!!e}}$(document).ready(function(e){console.log(window)}),$(document).ready(function(){$("#welcomeNavOpen").on("click",function(){$(".nav-burger__list").addClass("nav-burger__list--active")}),$("#welcomeNavClose").on("click",function(){$(".nav-burger__list").removeClass("nav-burger__list--active")})}),$(document).ready(function(){$(".burgers__slide").on("click",function(e){e.preventDefault();var o,t,n=$(this),c=n.closest(".burgers__container"),r=$(".burger",c),a=r.filter(".burger--active");n.hasClass("burgers__slide--right")?(o=a.next(),t=r.first()):n.hasClass("burgers__slide--left")&&(o=a.prev(),t=r.last()),function(e,o){var t=e.find(".burger"),n=t.filter(".burger--active"),c=t.eq(o),r=c.index(),a=e.find(".burgers__list");c.length&&a.animate({left:100*-r+"%"},500,function(){n.removeClass("burger--active"),c.addClass("burger--active")})}(c,o.length?o.index():t.index())})});var deviceWidth=$(document).width(),deviceHeight=$(document).outerHeight();activeOnTap(768,".burger__compos"),activeOnTap(768,".menu__food",".food-close",!0),$(window).on("resize",function(){deviceWidth=$(document).width(),deviceHeight=$(document).innerHeight(),console.log(deviceWidth),activeOnTap(768,".menu__food",".food-close",!0)});var accordeonItem="team__person",accordeonItemContent="person-desc";$("."+accordeonItem).click(function(e){var o=$(e.target).parents("."+accordeonItem);o.hasClass(accordeonItem+"--active")?o.removeClass(accordeonItem+"--active").children("."+accordeonItemContent).slideUp():($("."+accordeonItem).removeClass(accordeonItem+"--active").children("."+accordeonItemContent).slideUp(),o.addClass(accordeonItem+"--active").children("."+accordeonItemContent).slideDown())}),$(document).ready(function(){$(".comment__text-more").bind("click",function(e){e.preventDefault();var o=$(e.currentTarget).parents(".comment"),t=o.children(".comment__modal");t.bPopup({closeClass:"comment-close",scrollBar:!1,onClose:function(){t.appendTo(o)}})})}),$(document).ready(function(){for(var e=$(".maincontent"),o=[".burgers__list",".welcome-header",".page__arrow-link"],t=0;t<o.length;t++)$(o[t]).on("click",function(o){o.preventDefault();var t=$(o.target).attr("data-goto");t&&e.moveTo(t)})}),$(document).ready(function(){$(".form__clear-link").on("click",function(){$("#form__order")[0].reset()});var e=$(".submit__modal"),o=$(".submit");$(".form__inner").on("submit",function(t){t.preventDefault();var n=!0;if(""!=$("#form__name")[0].value&&""!=$("#form__email")[0].value&&""!=$("#form__street")[0].value&&""!=$("#form__house")[0].value&&""!=$("#form__flat")[0].value||(n=!1),function(t){var n;t?(n="#feeac8",$(".request-msg__text").html("Заполните обязательные поля"),e.bPopup({closeClass:"request-msg__close",scrollBar:!1,onClose:function(){e.appendTo(o)}})):n="#ffffff",$("#form__name").css("background",n),$("#form__email").css("background",n),$("#form__street").css("background",n),$("#form__flat").css("background",n),$("#form__house").css("background",n)}(!n),n){var c=$(t.target),r=c.serialize(),a=c.attr("action"),i=$.ajax({type:"POST",url:a,data:r});console.log(i),i.done(function(){$(".request-msg__text").html("Сообщение отправлено"),e.bPopup({closeClass:"request-msg__close",scrollBar:!1,onClose:function(){e.appendTo(o)}})}),i.fail(function(t,n){console.log("Request failed: "+n),$(".request-msg__text").html("Произошла ошибка"),e.bPopup({closeClass:"request-msg__close",scrollBar:!1,onClose:function(){e.appendTo(o)}})})}})}),ymaps.ready(initMap);var prevDef=function(e){e.preventDefault()};